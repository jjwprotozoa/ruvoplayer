// Responsive Utilities - Based on IPTVnator's responsive design system

// ===== RESPONSIVE MIXINS =====

// Responsive breakpoint mixin
@mixin respond-to($breakpoint) {
  @if $breakpoint == "xs" {
    @media (max-width: 480px) { @content; }
  }
  @else if $breakpoint == "sm" {
    @media (max-width: 768px) { @content; }
  }
  @else if $breakpoint == "md" {
    @media (max-width: 1024px) { @content; }
  }
  @else if $breakpoint == "lg" {
    @media (max-width: 1200px) { @content; }
  }
  @else if $breakpoint == "xl" {
    @media (max-width: 1440px) { @content; }
  }
  @else if $breakpoint == "tv" {
    @media (min-width: 1920px) { @content; }
  }
  @else if $breakpoint == "desktop" {
    @media (min-width: 1025px) and (max-width: 1919px) { @content; }
  }
  @else if $breakpoint == "tablet" {
    @media (min-width: 769px) and (max-width: 1024px) { @content; }
  }
  @else if $breakpoint == "mobile" {
    @media (max-width: 768px) { @content; }
  }
  @else if $breakpoint == "portrait" {
    @media (orientation: portrait) { @content; }
  }
  @else if $breakpoint == "landscape" {
    @media (orientation: landscape) { @content; }
  }
}

// Responsive typography mixin
@mixin responsive-text($min-size, $max-size, $min-width: 320, $max-width: 1920) {
  font-size: clamp(#{$min-size}px, #{$min-size + ($max-size - $min-size) * 0.1}vw, #{$max-size}px);
}

// Responsive spacing mixin
@mixin responsive-spacing($property, $min-value, $max-value, $min-width: 320, $max-width: 1920) {
  #{$property}: clamp(#{$min-value}px, #{$min-value + ($max-value - $min-value) * 0.1}vw, #{$max-value}px);
}

// Touch-friendly target mixin
@mixin touch-target($size: 44px) {
  min-width: $size;
  min-height: $size;
}

// ===== RESPONSIVE GRID SYSTEM =====

.responsive-grid {
  display: grid;
  gap: var(--grid-gap, 20px);
  
  &.grid-1 { grid-template-columns: 1fr; }
  &.grid-2 { grid-template-columns: repeat(2, 1fr); }
  &.grid-3 { grid-template-columns: repeat(3, 1fr); }
  &.grid-4 { grid-template-columns: repeat(4, 1fr); }
  &.grid-5 { grid-template-columns: repeat(5, 1fr); }
  &.grid-6 { grid-template-columns: repeat(6, 1fr); }
  
  @include respond-to("xl") {
    &.grid-6 { grid-template-columns: repeat(5, 1fr); }
    &.grid-5 { grid-template-columns: repeat(4, 1fr); }
  }
  
  @include respond-to("lg") {
    &.grid-6, &.grid-5 { grid-template-columns: repeat(4, 1fr); }
  }
  
  @include respond-to("md") {
    &.grid-6, &.grid-5, &.grid-4 { grid-template-columns: repeat(3, 1fr); }
  }
  
  @include respond-to("sm") {
    &.grid-6, &.grid-5, &.grid-4, &.grid-3 { grid-template-columns: repeat(2, 1fr); }
  }
  
  @include respond-to("xs") {
    &.grid-6, &.grid-5, &.grid-4, &.grid-3, &.grid-2 { grid-template-columns: 1fr; }
  }
}

// ===== RESPONSIVE FLEXBOX UTILITIES =====

.responsive-flex {
  display: flex;
  
  &.flex-row {
    flex-direction: row;
    
    @include respond-to("sm") {
      flex-direction: column;
    }
  }
  
  &.flex-column {
    flex-direction: column;
    
    @include respond-to("lg") {
      flex-direction: row;
    }
  }
  
  &.flex-wrap {
    flex-wrap: wrap;
  }
  
  &.flex-nowrap {
    flex-wrap: nowrap;
    
    @include respond-to("sm") {
      flex-wrap: wrap;
    }
  }
}

// ===== RESPONSIVE SPACING UTILITIES =====

.responsive-spacing {
  @include responsive-spacing(padding, 10, 30);
  @include responsive-spacing(margin, 10, 30);
}

.responsive-gap {
  @include respond-to("tv") { gap: 30px; }
  @include respond-to("desktop") { gap: 20px; }
  @include respond-to("tablet") { gap: 15px; }
  @include respond-to("mobile") { gap: 10px; }
}

// ===== RESPONSIVE TYPOGRAPHY UTILITIES =====

.responsive-text {
  @include responsive-text(14, 24);
  line-height: 1.4;
}

.responsive-heading {
  @include responsive-text(18, 32);
  line-height: 1.2;
  font-weight: 600;
}

.responsive-caption {
  @include responsive-text(12, 16);
  line-height: 1.3;
  opacity: 0.7;
}

// ===== RESPONSIVE LAYOUT UTILITIES =====

.responsive-container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 var(--grid-gap, 20px);
  
  @include respond-to("tv") {
    max-width: 1400px;
    padding: 0 30px;
  }
  
  @include respond-to("mobile") {
    padding: 0 15px;
  }
}

.responsive-sidebar {
  width: var(--sidebar-width, 300px);
  transition: width var(--transition-speed, 0.2s) ease;
  
  @include respond-to("tablet") {
    width: 250px;
  }
  
  @include respond-to("mobile") {
    position: fixed;
    left: -100%;
    top: 0;
    height: 100vh;
    width: 100%;
    z-index: 1000;
    background: var(--background-color, #1b1c1c);
    
    &.open {
      left: 0;
    }
  }
}

.responsive-header {
  height: var(--header-height, 100px);
  transition: height var(--transition-speed, 0.2s) ease;
  
  @include respond-to("mobile") {
    height: 80px;
  }
}

// ===== RESPONSIVE COMPONENT UTILITIES =====

.responsive-card {
  min-width: var(--card-min-width, 200px);
  max-width: var(--card-max-width, 300px);
  transition: all var(--transition-speed, 0.2s) ease;
  
  @include respond-to("mobile") {
    min-width: 150px;
    max-width: 200px;
  }
  
  &:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  }
}

.responsive-button {
  @include touch-target(44px);
  transition: all var(--transition-speed, 0.2s) ease;
  
  @include respond-to("tv") {
    min-height: 50px;
    padding: 0 30px;
    font-size: 18px;
    border-radius: 8px;
  }
  
  @include respond-to("desktop") {
    min-height: 45px;
    padding: 0 25px;
    font-size: 16px;
    border-radius: 6px;
  }
  
  @include respond-to("tablet") {
    min-height: 42px;
    padding: 0 20px;
    font-size: 15px;
    border-radius: 5px;
  }
  
  @include respond-to("mobile") {
    min-height: 44px;
    padding: 0 20px;
    font-size: 14px;
    border-radius: 4px;
  }
  
  &:focus-visible {
    outline: var(--focus-ring-width, 3px) solid var(--focus-ring-color, #3f51b5);
    outline-offset: 2px;
  }
}

.responsive-input {
  @include touch-target(44px);
  transition: all var(--transition-speed, 0.2s) ease;
  
  @include respond-to("tv") {
    font-size: 18px;
    padding: 15px;
  }
  
  @include respond-to("desktop") {
    font-size: 16px;
    padding: 12px;
  }
  
  @include respond-to("tablet") {
    font-size: 15px;
    padding: 10px;
  }
  
  @include respond-to("mobile") {
    font-size: 14px;
    padding: 8px;
  }
  
  &:focus {
    outline: var(--focus-ring-width, 2px) solid var(--focus-ring-color, #3f51b5);
    outline-offset: 2px;
  }
}

// ===== RESPONSIVE NAVIGATION UTILITIES =====

.responsive-nav {
  display: flex;
  align-items: center;
  gap: var(--nav-gap, 20px);
  
  @include respond-to("mobile") {
    flex-direction: column;
    gap: 10px;
  }
}

.responsive-menu-toggle {
  display: none;
  
  @include respond-to("mobile") {
    display: flex;
    align-items: center;
    justify-content: center;
    @include touch-target(44px);
    background: transparent;
    border: none;
    color: inherit;
    cursor: pointer;
    z-index: 1001;
  }
}

// ===== RESPONSIVE VIDEO PLAYER UTILITIES =====

.responsive-video-container {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;
  
  video,
  .video-js,
  .art-video-player,
  .dplayer {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain;
  }
  
  .vjs-control-bar,
  .art-controls,
  .dplayer-controller {
    height: var(--controls-height, 50px);
  }
}

// ===== RESPONSIVE ACCESSIBILITY UTILITIES =====

.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

.focus-visible {
  outline: var(--focus-ring-width, 3px) solid var(--focus-ring-color, #3f51b5);
  outline-offset: 2px;
  border-radius: 4px;
}

// ===== RESPONSIVE ANIMATION UTILITIES =====

.responsive-transition {
  transition: all var(--transition-speed, 0.2s) cubic-bezier(0.4, 0, 0.2, 1);
}

.responsive-hover {
  @include respond-to("desktop") {
    &:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }
  }
}

// ===== RESPONSIVE PRINT UTILITIES =====

@media print {
  .no-print {
    display: none !important;
  }
  
  .print-only {
    display: block !important;
  }
  
  .responsive-container {
    max-width: none;
    padding: 0;
  }
  
  .responsive-sidebar {
    position: static;
    width: 100%;
    height: auto;
  }
}

// ===== RESPONSIVE HIGH CONTRAST MODE =====

@media (prefers-contrast: high) {
  .responsive-button,
  .responsive-input {
    border: 2px solid currentColor;
  }
  
  .responsive-card {
    border: 2px solid currentColor;
  }
}

// ===== RESPONSIVE REDUCED MOTION =====

@media (prefers-reduced-motion: reduce) {
  .responsive-transition,
  .responsive-hover {
    transition: none !important;
    transform: none !important;
  }
  
  .responsive-sidebar {
    transition: none !important;
  }
}

// ===== RESPONSIVE DARK MODE SUPPORT =====

@media (prefers-color-scheme: dark) {
  :root {
    --background-color: #1b1c1c;
    --surface-color: #2d2d2d;
    --text-color: #ffffff;
    --border-color: #404040;
  }
}

@media (prefers-color-scheme: light) {
  :root {
    --background-color: #ffffff;
    --surface-color: #f5f5f5;
    --text-color: #000000;
    --border-color: #e0e0e0;
  }
}

// ===== RESPONSIVE UTILITY CLASSES =====

// Display utilities
.d-none { display: none !important; }
.d-block { display: block !important; }
.d-flex { display: flex !important; }
.d-grid { display: grid !important; }

// Responsive display utilities
@include respond-to("mobile") {
  .d-mobile-none { display: none !important; }
  .d-mobile-block { display: block !important; }
  .d-mobile-flex { display: flex !important; }
}

@include respond-to("tablet") {
  .d-tablet-none { display: none !important; }
  .d-tablet-block { display: block !important; }
  .d-tablet-flex { display: flex !important; }
}

@include respond-to("desktop") {
  .d-desktop-none { display: none !important; }
  .d-desktop-block { display: block !important; }
  .d-desktop-flex { display: flex !important; }
}

// Text alignment utilities
.text-left { text-align: left !important; }
.text-center { text-align: center !important; }
.text-right { text-align: right !important; }

@include respond-to("mobile") {
  .text-mobile-left { text-align: left !important; }
  .text-mobile-center { text-align: center !important; }
  .text-mobile-right { text-align: right !important; }
}

// Position utilities
.position-relative { position: relative !important; }
.position-absolute { position: absolute !important; }
.position-fixed { position: fixed !important; }
.position-sticky { position: sticky !important; }

// Overflow utilities
.overflow-hidden { overflow: hidden !important; }
.overflow-auto { overflow: auto !important; }
.overflow-scroll { overflow: scroll !important; }

// Z-index utilities
.z-0 { z-index: 0 !important; }
.z-10 { z-index: 10 !important; }
.z-20 { z-index: 20 !important; }
.z-30 { z-index: 30 !important; }
.z-40 { z-index: 40 !important; }
.z-50 { z-index: 50 !important; }
.z-max { z-index: 9999 !important; }
